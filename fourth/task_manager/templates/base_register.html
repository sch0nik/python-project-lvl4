{% extends "base.html" %}

{% load i18n %}
{% load bootstrap4 %}
{% bootstrap_css %}
{% bootstrap_javascript jquery='full' %}
{% load static %}

{% block nav %}
    <nav class="nav nav-masthead justify-content-center">
      {% if user.username %}
        <a class="nav-link" href="{% url 'logout' %}">
          {% translate "Выход" %}
        </a>
      {% else %}
        <a class="nav-link" href="{% url 'login' %}">
          {% translate "Вход" %}
        </a>
        <a class="nav-link {{ active }}" href="{% url 'register' %}">
          {% translate "Регистрация" %}
        </a>
      {% endif %}
      <a class="nav-link" href="{% url 'users' %}">
        {% translate "Пользователи" %}
      </a>
    </nav>
{% endblock %}

{% block main %}
    <main role="main" class="inner cover">
        <h1 class="text-center">{% translate "Регистрация" %}</h1>
        {% if msg %}
          <h5>{% translate msg %}</h5>
        {% endif %}
        <br>
        {% comment %}<form method="post">
          {% csrf_token %}
          <div class="form-group">
            <label for="id_first_name">Имя</label>
            <input
                    type="text"
                    name="first_name"
                    maxlength="150"
                    class="form-control"
                    placeholder="Имя"
                    title=""
                    required id="id_first_name">
          </div>
          <div class="form-group">
            <label for="id_last_name">Фамилия</label>
            <input
                    type="text"
                    name="last_name"
                    maxlength="150"
                    class="form-control"
                    placeholder="Фамилия"
                    title=""
                    required id="id_last_name">
          </div>
          <div class="form-group">
            <label for="id_username">Имя пользователя</label>
            <input
                    type="text"
                    name="username"
                    maxlength="150"
                    autofocus class="form-control"
                    placeholder="Имя пользователя"
                    title="Обязательное поле. Не более 150 символов. Только буквы, цифры и символы @/./+/-/_."
                    required id="id_username">
            <small class="form-text text-muted">
              Обязательное поле. Не более 150 символов. Только буквы, цифры и символы @/./+/-/_.
            </small>
          </div>
          <div class="form-group">
            <label for="id_password1">Пароль</label>
            <input
                    type="password"
                    name="password1"
                    autocomplete="new-password"
                    class="form-control"
                    placeholder="Пароль"
                    title="Ваш пароль должен содержать как минимум 3 символа."
                    required id="id_password1">
            <small class="form-text text-muted">
              Ваш пароль должен содержать как минимум 3 символа.
            </small>
          </div>
          <div class="form-group">
            <label for="id_password2">Подтверждение пароля</label>
            <input
                    type="password"
                    name="password2"
                    autocomplete="new-password"
                    class="form-control"
                    placeholder="Подтверждение пароля"
                    title="Для подтверждения введите, пожалуйста, пароль ещё раз."
                    required id="id_password2">
            <small class="form-text text-muted">
              Для подтверждения введите, пожалуйста, пароль ещё раз.
            </small>
          </div>
          <div class="form-group">
            <input
                    class="btn btn-primary"
                    type="submit"
                    value="Зарегистрировать">
          </div>
        </form>{% endcomment %}
        <form method="post">
          {% csrf_token %}
          {{ form.as_p }}
          <div class="form-group">
            <input
                    class="btn btn-primary"
                    type="submit"
                    value="Зарегистрировать">
          </div>
        </form>
    </main>
{% endblock %}
